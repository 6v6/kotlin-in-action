
## 9.1 μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„°

> μ λ„¤λ¦­ : ν΄λμ¤ λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•  λ°μ΄ν„° νƒ€μ…μ„ μ™Έλ¶€μ—μ„ μ§€μ •ν•λ” κΈ°λ²•μ„ μλ―Έν•λ‹¤.
> 

> νƒ€μ… νλΌλ―Έν„° 
`List<T>` : `<T>`λ¥Ό νƒ€μ… νλΌλ―Έν„°λΌκ³  ν•λ‹¤.
> 
- μ λ„¤λ¦­ νƒ€μ…μ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤λ ¤λ©΄ **νƒ€μ… νλΌλ―Έν„°λ¥Ό κµ¬μ²΄μ μΈ νƒ€μ… μΈμλ΅ μΉν™ν•΄μ•Ό ν•λ‹¤.**
    - νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ©΄ "μ΄ λ³€μλ” λ¦¬μ¤νΈλ‹¤" λΌκ³  λ§ν•λ” λ€μ‹  μ •ν™•ν•κ²Β "μ΄ λ³€μλ” λ¬Έμμ—΄μ„ λ‹΄λ” λ¦¬μ¤νΈλ‹¤"λΌκ³  λ§ν•  μ μλ‹¤.
    - `List<T>` β†’ `List<String>`
- μ½”ν‹€λ¦° μ»΄νμΌλ¬λ” λ³΄ν†µ νƒ€μ…κ³Ό λ§μ°¬κ°€μ§€λ΅ νƒ€μ… μΈμλ„ μ¶”λ΅ ν•  μ μλ‹¤.

```kotlin
val authors = listOf("Dmitry", "Svetlana")
```

- μ„ μ½”λ“μ—μ„Β `listOf`Β μ— μ „λ‹¬λ λ‘ κ°’μ΄ λ¬Έμμ—΄μ΄κΈ° λ•λ¬Έμ— μ»΄νμΌλ¬λ” μ—¬κΈ°μ„ μƒκΈ°λ” λ¦¬μ¤νΈκ°€Β `List<String>`Β μ„μ„ μ¶”λ΅ ν•λ‹¤.
- λ°λ©΄ λΉ λ¦¬μ¤νΈλ¥Ό λ§λ“¤μ–΄μ•Ό ν•λ‹¤λ©΄ νƒ€μ… μΈμλ¥Ό μ¶”λ΅ ν•  κ·Όκ±°κ°€ μ—†κΈ° λ•λ¬Έμ— μ§μ ‘ νƒ€μ… μΈμλ¥Ό λ…μ‹ν•΄μ•Ό ν•λ‹¤.
    - λ¦¬μ¤νΈλ¥Ό λ§λ“¤ λ• λ³€μμ νƒ€μ…μ„ μ§€μ •ν•κ±°λ‚
        
        ```kotlin
        	val readers: MutableList<String> = mutableListOf()
        ```
        
    - λ³€μλ¥Ό λ§λ“λ” ν•¨μμ νƒ€μ… μΈμλ¥Ό μ§€μ •ν•  μ μλ‹¤.
        
        ```kotlin
        val readers = mutalbeListOf<String>()
        ```
        
- **μ°Έκ³  : μ½”ν‹€λ¦°μ—μ„λ” ν•­μƒ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… μΈμλ¥Ό μ •μ ν•΄μ•Ό ν•λ‹¤.**
    - val readers: MutableList μ΄λ°μ‹μ μ„ μ–Έμ€ λ¶κ°€λ¥ν•λ‹¤.

### 9.1.1.  μ λ„¤λ¦­ ν•¨μμ™€ ν”„λ΅νΌν‹°

- μ λ„¤λ¦­μ„ μ‚¬μ©ν• ν•¨μλ¥Ό μ λ„¤λ¦­ ν•¨μλΌκ³  ν•λ‹¤.

```kotlin
fun <T> List<T>.filter(predicate: (T) -> Boolean): List<T> // μ λ„¤λ¦­ ν•¨μ

fun filter(predicate: (String) -> Boolean): List<String> // ν•¨μ
```

- μ λ„¤λ¦­ ν•¨μλ¥Ό νΈμ¶ν•  λ•λ” λ°λ“μ‹ κµ¬μ²΄μ  νƒ€μ…μΌλ΅ νƒ€μ… μΈμλ¥Ό λ„κ²¨μ•Ό ν•λ‹¤.

!https://velog.velcdn.com/images/akimcse/post/67806483-e8ce-4e74-b549-f0fbf6e131cf/image.png

- ν•¨μμ νƒ€μ… νλΌλ―Έν„° Tκ°€ μμ‹  κ°μ²΄μ™€ λ°ν™ νƒ€μ…μ— μ“°μΈλ‹¤.

```kotlin
val letter = ('a' .. 'z').toList()
letter.slice<Char>(0..2)
letter.slice(0..2) // μ»΄νμΌλ¬κ°€ νƒ€μ…μΈμλ¥Ό μ¶”λ΅ ν•λ‹¤.
```

```kotlin
val authors = listOf("Dmitry", "Svetlana")
val readers = mutableListOf<String>(/* ... */)

fun <T> List<T>.filter(predicate: (T) -> Boolean): List<T>

readers.filter {it !in authors}
```

μ»΄νμΌλ¬λ”

- `filter`Β κ°€Β `List<T>`Β νƒ€μ…μ λ¦¬μ¤νΈμ— λ€ν•΄ νΈμ¶λ  μ μλ‹¤λ” μ‚¬μ‹¤
- `filter`Β μ μμ‹  κ°μ²΄μΈΒ `reader`Β μ νƒ€μ…μ΄Β `List<String>`Β μ΄λΌλ” μ‚¬μ‹¤

μ„ λ‘κ°€μ§€λ¥Ό ν†µν•΄Β `T`Β κ°€Β `String`Β μ΄λΌλ” μ‚¬μ‹¤μ„ μ¶”λ΅ ν•λ‹¤.

μ λ„¤λ¦­ ν•¨μλ¥Ό μ •μν•  λ•μ™€ λ§μ°¬κ°€μ§€ λ°©λ²•μΌλ΅ μ λ„¤λ¦­ ν™•μ¥ ν”„λ΅νΌν‹° λν• μ„ μ–Έν•  μ μλ‹¤.

```kotlin
val <T> List<T>.penultimate: T // λ¨λ“  λ¦¬μ¤νΈ νƒ€μ…μ— μ΄ μ λ„¤λ¦­ ν™•μ¥ ν”„λ΅νΌν‹°λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
    get() = this[size - 2] // μ΄ νΈμ¶μ—μ„ νƒ€μ… νλΌλ―Έν„° Tλ” Intλ΅ μ¶”λ΅ λλ‹¤.
```

> λ‹¨, ν™•μ¥ ν”„λ΅νΌν‹°κ°€ μ•„λ‹ μΌλ° ν”„λ΅νΌν‹°λ” νƒ€μ… νλΌλ―Έν„°λ¥Ό κ°€μ§ μ μ—†λ‹¤.
> 
> 
> ν΄λμ¤ ν”„λ΅νΌν‹°μ— μ—¬λ¬ νƒ€μ…μ κ°’μ„ μ €μ¥ν•  μλ” μ—†μΌλ―€λ΅ μ λ„¤λ¦­ν• μΌλ° ν”„λ΅νΌν‹°λ” λ§μ΄ λμ§€ μ•λ”λ‹¤.
> 

### 9.1.2. μ λ„¤λ¦­ ν΄λμ¤ μ„ μ–Έ

μλ°”μ™€ λ§μ°¬κ°€μ§€λ΅ μ½”ν‹€λ¦°μ—μ„λ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„£μ€ κΊΎμ‡  κΈ°νΈΒ `< >`Β λ¥Ό ν΄λμ¤ λλ” μΈν„°νμ΄μ¤ λ’¤μ— λ¶™μ΄λ©΄ μ λ„¤λ¦­ν•κ² λ§λ“¤ μ μλ‹¤.

**νƒ€μ… νλΌλ―Έν„°λ¥Ό μ΄λ¦„ λ’¤μ— λ¶™μ΄κ³  λ‚λ©΄ ν΄λμ¤ λ³Έλ¬Έ μ•μ—μ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό λ‹¤λ¥Έ μΌλ° νƒ€μ…μ²λΌ μ‚¬μ©ν•  μ μλ‹¤.**

```kotlin
interface List<T> { //List μΈν„°νμ΄μ¤μ— TλΌλ” νƒ€μ… νλΌλ―Έν„°λ¥Ό μ •μν•λ‹¤.
    operator fun get(index: Int): T .. μΈν„°νμ΄μ¤ μ•μ—μ„ Tλ¥Ό μΌλ° νƒ€μ…μ²λΌ μ‚¬μ©ν•  μ μλ‹¤.
    // ...
}
```

μ λ„¤λ¦­ ν΄λμ¤λ¥Ό ν™•μ¥ν•λ” ν΄λμ¤λ¥Ό μ •μν•λ ¤λ©΄, κΈ°λ° νƒ€μ…μ μ λ„¤λ¦­ νλΌλ―Έν„°μ— λ€ν•΄ νƒ€μ… μΈμλ¥Ό μ§€μ •ν•΄μ•Ό ν•λ‹¤.

- κµ¬μ²΄μ μΈ νƒ€μ…μ„ λ„κΈΈ μλ„ μκ³ 
- νƒ€μ… νλΌλ―Έν„°λ΅ λ°›μ€ νƒ€μ…μ„ λ„κΈΈ μλ„ μλ‹¤.

```kotlin
class StringList : List<String>
	override fun get(index: Int) : String = // List<String> νƒ€μ…μ„ κµ¬ν„ν•λ‹¤.
	
class ArrayList<T> : List<T> // ArrayListμ μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„° Tλ¥Ό Listμ νƒ€μ… μΈμλ΅ λ„κΈ΄λ‹¤.
```

λν• μ•„λμ™€ κ°™μ΄ ν΄λμ¤κ°€ μκΈ° μμ‹ μ„ νƒ€μ… μΈμλ΅ μ°Έμ΅°ν•  μλ„ μλ‹¤.

- String ν΄λμ¤κ°€ Comparableμ„ κµ¬ν„ν•λ©΄μ„, νƒ€μ… νλΌλ―Έν„°λ΅ μκΈ° μμ‹  Stringμ„ λ„κ²Όλ‹¤.

```kotlin
interface Comparable<T> {
    fun compareTo(other: T): Int
}

class String : Comparable<String> {
    override fun compareTo(other: String): Int = /* ... */   
```

### 9.1.3. νƒ€μ… νλΌλ―Έν„° μ μ•½

> νƒ€μ… νλΌλ―Έν„° μ μ•½μ€ ν΄λμ¤λ‚ ν•¨μμ— μ‚¬μ©ν•  μ μλ” νƒ€μ… μΈμλ¥Ό μ ν•ν•λ” κΈ°λ¥μ΄λ‹¤.
> 

μλ¥Ό λ“¤μ–΄ λ¦¬μ¤νΈμ— μ†ν• λ¨λ“  μ›μ†μ ν•©μ„ κµ¬ν•λ”Β `sum`Β ν•¨μκ°€ μλ‹¤κ³  ν•μ.

`List<Int>`Β λ‚Β `List<Double>`Β μ—λ” μ΄ ν•¨μλ¥Ό μ μ©ν•  μ μμ§€λ§Β `List<String>`Β λ“±μ—λ” μ΄ ν•¨μλ¥Ό μ μ©ν•  μ μ—†λ‹¤.

μ΄ λ•Β `sum`Β ν•¨μκ°€ νƒ€μ… νλΌλ―Έν„°λ΅ μ«μ νƒ€μ…λ§μ„ ν—μ©ν•κ² μ •μν•λ©΄ μ΄λ° μ΅°κ±΄μ„ ν‘ν„ν•  μ μλ‹¤.

> μ–΄λ–¤ νƒ€μ…μ„ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… νλΌλ―Έν„°μ— λ€ν• μƒν•(upper bound)λ΅ μ§€μ •ν•λ©΄ κ·Έ μ λ„¤λ¦­ νƒ€μ…μ„ μΈμ¤ν„΄μ¤ν™”ν•  λ• μ‚¬μ©ν•λ” νƒ€μ… μΈμλ” λ°λ“μ‹Β κ·Έ μƒν• νƒ€μ…μ΄κ±°λ‚Β κ·Έ μƒν• νƒ€μ…μ ν•μ„ νƒ€μ…μ΄μ–΄μ•Ό ν•λ‹¤.
> 

μ μ•½μ„ κ°€ν•λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„° μ΄λ¦„ λ’¤μ— μ½λ΅ Β `:`Β μ„ ν‘μ‹ν•κ³  κ·Έ λ’¤μ— μƒν• νƒ€μ…μ„ μ μΌλ©΄ λλ‹¤.

!https://velog.velcdn.com/images/akimcse/post/d5026045-3cfa-41a5-b4e6-85889f657a92/image.png

λ‘ νλΌλ―Έν„° μ‚¬μ΄μ—μ„ λ” ν° κ°’μ„ μ°Ύλ” μ λ„¤λ¦­ ν•¨μλ¥Ό μ‘μ„±ν•΄λ³΄μ

```kotlin
fun <T: Comparable<T>> max(first:T, second:T) : T {
	return if (first>second) first else second
}

max("kotlin", 42) // λΉ„κµν•  μ μ—†λ” κ°’ μ‚¬μ΄μ— νΈμ¶ν•λ©΄ μ»΄νμΌ μ¤λ¥κ°€ λ‚λ‹¤.
```

### 9.1.4. νƒ€μ… νλΌλ―Έν„°λ¥Ό λ„μ΄ λ  μ μ—†λ” νƒ€μ…μΌλ΅ ν•μ •

- **μ•„λ¬΄λ° μƒν•μ„ μ •ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ” κ²°κ³Όμ μΌλ΅Β `Any?`Β λ¥Ό μƒν•μΌλ΅ μ •ν• νλΌλ―Έν„°μ™€ κ°™λ‹¤**
- λ§μ•½ ν•­μƒ λ„μ΄ λ  μ μ—†λ” νƒ€μ…λ§ νƒ€μ… μΈμλ΅ λ°›κ² λ§λ“¤λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„°μ— μ μ•½μ„ κ°€ν•΄μ•Ό ν•λ‹¤. λ„ κ°€λ¥μ„±μ„ μ μ™Έν• μ•„λ¬΄λ° μ μ•½λ„ ν•„μ” μ—†λ‹¤λ©΄Β `Any?`Β λ€μ‹ Β `Any`Β λ¥Ό μƒν•μΌλ΅ μ‚¬μ©ν•λ©΄ λλ‹¤.

```kotlin
class Processor<T : Any>
```

## 9.2 μ‹¤ν–‰ μ‹ μ λ„¤λ¦­μ¤μ λ™μ‘: μ†κ±°λ νƒ€μ… νλΌλ―Έν„°μ™€ μ‹¤μ²΄ν™”λ νƒ€μ… νλΌλ―Έν„°

**JVMμ μ λ„¤λ¦­μ¤λ” λ³΄ν†µ νƒ€μ… μ†κ±°λ¥Ό μ‚¬μ©ν•΄ κµ¬ν„λλ‹¤. μ΄λ” μ‹¤ν–‰ μ‹μ μ— μ λ„¤λ¦­ ν΄λμ¤μ μΈμ¤ν„΄μ¤μ— νƒ€μ… μΈμ μ •λ³΄κ°€ λ“¤μ–΄μμ§€ μ•λ‹¤λ” λ»μ΄λ‹¤.**

μ΄λ² μ μ—μ„λ” μ½”ν‹€λ¦° νƒ€μ… μ†κ±°κ°€ μ‹¤μ©μ μΈ λ©΄μ—μ„ μ–΄λ–¤ μν–¥μ„ λΌμΉλ”μ§€ μ‚΄ν΄λ³΄κ³  ν•¨μλ¥ΌΒ `inline`Β μΌλ΅ μ„ μ–Έν•¨μΌλ΅μ¨ μ΄λ° μ μ•½μ„ μ–΄λ–»κ² μ°νν•  μ μλ”μ§€ μ‚΄ν΄λ³Έλ‹¤.

> ν•¨μλ¥ΌΒ inlineΒ μΌλ΅ λ§λ“¤λ©΄ νƒ€μ… μΈμκ°€ μ§€μ›μ§€μ§€ μ•κ² ν•  μ μλ”λ°, μ΄λ¥ΌΒ μ‹¤μ²΄ν™”λΌκ³  ν•λ‹¤.
> 

### 9.2.1. μ‹¤ν–‰ μ‹μ μ μ λ„¤λ¦­: νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤νΈ

μ½”ν‹€λ¦° μ λ„¤λ¦­ νƒ€μ… μΈμ μ •λ³΄λ” **λ°νƒ€μ„μ— μ§€μ›μ§„λ‹¤.**

- μ΄λ” μ λ„¤λ¦­ ν΄λμ¤ μΈμ¤ν„΄μ¤κ°€ κ·Έ μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν•  λ• μ“°μΈ νƒ€μ… μΈμμ— λ€ν• μ •λ³΄λ¥Ό μ μ§€ν•μ§€ μ•λ”λ‹¤λ” λ»μ΄λ‹¤.

μλ¥Ό λ“¤μ–΄Β `List<String>`Β κ°μ²΄λ¥Ό λ§λ“¤κ³  κ·Έ μ•μ— λ¬Έμμ—΄μ„ μ—¬λΏ λ„£λ”λΌλ„ μ‹¤ν–‰ μ‹μ μ—λ” κ·Έ κ°μ²΄λ¥Ό μ¤μ§Β `List`Β λ΅λ§ λ³Ό μ μκ³ , κ·ΈΒ `List`Β κ°μ²΄κ°€ μ–΄λ–¤ νƒ€μ…μ μ›μ†λ¥Ό μ €μ¥ν•λ”μ§€ μ‹¤ν–‰ μ‹μ μ—λ” μ• μ μ—†λ‹¤.

!https://velog.velcdn.com/images/akimcse/post/5ebf3d06-a9de-4054-8e5f-b15274dc0737/image.png

μ„ κ·Έλ¦Όμ„ λ³΄λ©΄ μ»΄νμΌλ¬λ” λ‘ λ¦¬μ¤νΈλ¥Ό μ„λ΅ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ μΈμ‹ν•μ§€λ§ **μ‹¤ν–‰ μ‹μ μ— κ·Έ λ‘μ€ μ™„μ „ν κ°™μ€ νƒ€μ…μ κ°μ²΄λ‹¤.**

κ·ΈλΌμ—λ„ λ¶κµ¬ν•κ³  λ³΄ν†µμ€Β `List<String>`Β μ—λ” λ¬Έμμ—΄λ§ λ“¤μ–΄μκ³ Β `List<Int>`Β μ—λ” μ •μλ§ λ“¤μ–΄μλ‹¤κ³  κ°€μ •ν•  μ μλ”λ°, **μ΄λ” μ»΄νμΌλ¬κ°€ νƒ€μ… μΈμλ¥Ό μ•κ³  μ¬λ°”λ¥Έ νƒ€μ…μ κ°’λ§ κ° λ¦¬μ¤νΈμ— λ„£λ„λ΅ λ³΄μ¥ν•΄μ£ΌκΈ° λ•λ¬Έμ΄λ‹¤.**

λ‹¤μμΌλ΅ νƒ€μ… μ†κ±°λ΅ μΈν•΄ μƒκΈ°λ” ν•κ³„λ¥Ό μ‚΄ν΄λ³΄μ.

νƒ€μ… μΈμλ¥Ό λ”°λ΅ μ €μ¥ν•μ§€ μ•κΈ° λ•λ¬Έμ— μ‹¤ν–‰ μ‹μ μ— νƒ€μ… μΈμλ¥Ό κ²€μ‚¬ν•  μ μ—†λ‹¤.

μλ¥Ό λ“¤μ–΄ μ–΄λ–¤ λ¦¬μ¤νΈκ°€ λ¬Έμμ—΄λ΅ μ΄λ¤„μ§„ λ¦¬μ¤νΈμΈμ§€ λ‹¤λ¥Έ κ°μ²΄λ΅ μ΄λ¤„μ§„ λ¦¬μ¤νΈμΈμ§€λ¥Ό μ‹¤ν–‰ μ‹μ μ— κ²€μ‚¬ν•  μ μ—†λ‹¤. 

μΌλ°μ μΌλ΅ λ§ν•μλ©΄Β `is`Β κ²€μ‚¬μ—μ„ νƒ€μ… μΈμλ΅ μ§€μ •ν• νƒ€μ…μ„ κ²€μ‚¬ν•  μλ” μ—†λ‹¤.

```kotlin
value is List<String> // μ»΄νμΌ μ‹ μ¤λ¥ λ°μƒ
// List<String>νƒ€μ…μΈμ§€ List<Person> νƒ€μ…μΈμ§€ μ‹¤ν–‰ μ‹μ μ— μ• μ μ—†λ‹¤.
```

- μ λ„¤λ¦­ νƒ€μ… μ†κ±°μ μ¥μ  : μ €μ¥ν•΄μ•Ό ν•λ” νƒ€μ… μ •λ³΄μ ν¬κΈ°κ°€ μ¤„μ–΄λ“¤μ–΄μ„ λ©”λ¨λ¦¬ μ‚¬μ©λ‰μ΄ μ¤„μ–΄λ“ λ‹¤.

μ•μ„ λ§ν• κ²ƒ μ²λΌ μ½”ν‹€λ¦°μ—μ„λ” νƒ€μ… μΈμλ¥Ό λ…μ‹ν•μ§€ μ•κ³  μ λ„¤λ¦­ νƒ€μ…μ„ μ‚¬μ©ν•  μ μ—†λ‹¤. 

κ·Έλ ‡λ‹¤λ©΄ μ–΄λ–¤ κ°’μ΄ μ§‘ν•©μ΄λ‚ λ§µμ΄ μ•„λ‹λΌ λ¦¬μ¤νΈλΌλ” μ‚¬μ‹¤μ„ μ–΄λ–»κ² ν™•μΈν•  μ μμ„κΉ?

λ°”λ΅ μ¤νƒ€ν”„λ΅μ μ…μ„ μ‚¬μ©ν•λ©΄ λλ‹¤. β†’ `<*>`

```kotlin
if (value is List){ ... } // μ΄λ ‡κ² λ¶κ°€λ¥
if (value is List<*>){ ... }
```

- **valueκ°€ List νƒ€μ…μΈκ±΄ μ• μ μμ§€λ§ μ •ν™•ν• μ›μ† νƒ€μ…(List<String>μΈμ§€ List<Number>μΈμ§€..)μ€ μ• μ μ—†λ‹¤.**

κΈ°μ € ν΄λμ¤λ” κ°™μ§€λ§ νƒ€μ… μΈμκ°€ λ‹¤λ¥Έ νƒ€μ…μΌλ΅ μΊμ¤ν…ν•΄λ„ μ—¬μ „ν μΊμ¤ν…μ— μ„±κ³µν•λ‹¤.

```kotlin
fun printSum(c : Collection<*>) {
	val intList = c as? List<Int> ?: throw IllegalArgumentException("List is expected") // List<*> -> List<Int> κ²½κ³  λ°μƒ
	println(intList.sum())
}

printSum(listOf(1,2,3)) // μ •μƒ
printSum(setOf(1,2,3)) // Listκ°€ μ•„λ‹κ³  Setμ΄λΌ "List is expected" μμ™Έ λ°μƒ
printSum(listOf("a","b","c")) // as? μΊμ¤ν…μ€ μ„±κ³µ, ν•μ§€λ§ λ‹¤λ¥Έ μμ™Έ λ°μƒ (String cannot be cast to Number). sumμ—μ„ μ—λ¬ λ°μƒ
```

### 9.2.2. μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν• ν•¨μ μ„ μ–Έ

μ•μ—μ„ λ§ν• κ²ƒ μ²λΌ μ½”ν‹€λ¦° μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… μΈμ μ •λ³΄λ” μ‹¤ν–‰ μ‹μ μ— μ§€μ›μ§„λ‹¤. 

**λ”°λΌμ„ μ λ„¤λ¦­ ν΄λμ¤μ μΈμ¤ν„΄μ¤κ°€ μμ–΄λ„ κ·Έ μΈμ¤ν„΄μ¤λ¥Ό λ§λ“¤ λ• μ‚¬μ©ν• νƒ€μ… μΈμλ¥Ό μ•μ•„λ‚Ό μ μ—†λ‹¤.**

- μ λ„¤λ¦­ ν•¨μμ νƒ€μ… μΈμλ„ λ§μ°¬κ°€μ§€λ‹¤. μ λ„¤λ¦­ ν•¨μκ°€ νΈμ¶λμ–΄λ„ κ·Έ ν•¨μμ λ³Έλ¬Έμ—μ„λ” νΈμ¶ μ‹ μ“°μΈ νƒ€μ… μΈμλ¥Ό μ• μ μ—†λ‹¤.

λ‹¤λ§, μ΄λ° μ μ•½μ„ ν”Όν•  μ μλ” κ²½μ°κ°€ ν•λ‚ μλ‹¤.

> **μΈλΌμΈ ν•¨μμ νƒ€μ… νλΌλ―Έν„°λ” μ‹¤μ²΄ν™”λλ―€λ΅ μ‹¤ν–‰ μ‹μ μ— μΈλΌμΈ ν•¨μμ νƒ€μ… μΈμλ¥Ό μ• μ μλ‹¤.**
> 

8μ¥μ—μ„ λ³΄μ•λ“―, μ–΄λ–¤ ν•¨μμ—Β `inline`Β ν‚¤μ›λ“λ¥Ό λ¶™μ΄λ©΄ μ»΄νμΌλ¬λ” κ·Έ ν•¨μλ¥Ό νΈμ¶ν• μ‹μ„ λ¨λ‘ ν•¨μ λ³Έλ¬ΈμΌλ΅ λ°”κΎΌλ‹¤. 

ν•¨μκ°€ λλ‹¤λ¥Ό μΈμλ΅ μ‚¬μ©ν•λ” κ²½μ° κ·Έ ν•¨μλ¥Ό μΈλΌμΈ ν•¨μλ΅ λ§λ“¤λ©΄ λλ‹¤ μ½”λ“λ„ ν•¨κ» μΈλΌμ΄λ‹λκ³ , κ·Έμ— λ”°λΌ λ¬΄λ… ν΄λμ¤μ™€ κ°μ²΄κ°€ μƒμ„±λμ§€ μ•μ•„μ„ μ„±λ¥μ΄ λ” μΆ‹μ•„μ§ μ μλ‹¤.

### κ·Έλ ‡λ‹¤λ©΄ μ‹¤μ²΄ν™”ν• νƒ€μ… μΈμλ” μ–΄λ–»κ² μ‘λ™ν• κΉ?

μ»΄νμΌλ¬λ” μΈλΌμΈ ν•¨μμ λ³Έλ¬Έμ„ κµ¬ν„ν• λ°”μ΄νΈμ½”λ“λ¥Ό κ·Έ ν•¨μκ°€ νΈμ¶λλ” λ¨λ“  μ§€μ μ— μ‚½μ…ν•λ‹¤.

μ»΄νμΌλ¬λ” μ‹¤μ²΄ν™”ν• νƒ€μ… μΈμλ¥Ό μ‚¬μ©ν•΄ μΈλΌμΈ ν•¨μλ¥Ό νΈμ¶ν•λ” κ° λ¶€λ¶„μ μ •ν™•ν• νƒ€μ… μΈμλ¥Ό μ• μ μλ‹¤. 

λ”°λΌμ„ μ»΄νμΌλ¬λ” νƒ€μ… μΈμλ΅ μ“°μΈ κµ¬μ²΄μ μΈ ν΄λμ¤λ¥Ό μ°Έμ΅°ν•λ” λ°”μ΄νΈμ½”λ“λ¥Ό μƒμ„±ν•΄ μ‚½μ…ν•  μ μλ‹¤.

λν• νƒ€μ… νλΌλ―Έν„°κ°€ μ•„λ‹λΌ κµ¬μ²΄μ μΈ νƒ€μ…μ„ μ‚¬μ©ν•λ―€λ΅ λ§λ“¤μ–΄μ§„ λ°”μ΄νΈ μ½”λ“λ” μ‹¤ν–‰ μ‹μ μ— λ²μ–΄μ§€λ” νƒ€μ… μ†κ±°μ μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤.

```kotlin
filterIsInstance<String>

for (element in this){
	if(element is String) { } // if(element is T) -> if(element is String)
}
```

*μ°Έκ³ *

- μλ°”μ½”λ“μ—μ„λ” reified νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” inline ν•¨μλ¥Ό νΈμ¶ν•  μ μ—†λ‹¤.
- μλ°”μ—μ„λ” μ½”ν‹€λ¦° μΈλΌμΈ ν•¨μλ¥Ό λ‹¤λ¥Έ λ³΄ν†µ ν•¨μμ²λΌ νΈμ¶ν•΄μ„, μΈλΌμΈ ν•¨μλ¥Ό νΈμ¶ν•λ”λΌλ„ μ‹¤μ λ΅ μΈλΌμ΄λ‹μ΄ λμ§€λ” μ•λ”λ‹¤.
- λλ‹¤λ¥Ό νλΌλ―Έν„°λ΅ λ°›μ§€ μ•μ§€λ§ μΈλΌμΈ ν•¨μλ΅ μ •μν–λ‹¤λ”μ μ— μ μν•λΌ

### μ„±λ¥κ³Ό μΈλΌμΈ ν•¨μ

μ—¬κΈ°μ„ ν•¨μλ¥ΌΒ `inline`Β μΌλ΅ λ§λ“λ” μ΄μ λ” 8μ¥μ—μ„μ™€ λ‹¬λ¦¬ μ„±λ¥ ν–¥μƒμ΄ μ•„λ‹λΌ μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•κΈ° μ„ν•¨μ΄λ‹¤.

**μ„±λ¥μ„ μΆ‹κ² ν•κ³  μ‹¶λ‹¤λ©΄ μΈλΌμΈ ν•¨μμ ν¬κΈ°λ¥Ό κ³„μ† κ΄€μ°°ν•΄μ•Ό ν•λ‹¤. ν•¨μκ°€ μ»¤μ§€λ©΄ μ‹¤μ²΄ν™”ν• νƒ€μ…μ— μμ΅΄ν•μ§€ μ•λ” λ¶€λ¶„μ„ λ³„λ„μ μΌλ° ν•¨μλ΅ λ½‘μ•„λ‚΄λ” νΈμ΄ λ‚«λ‹¤.**

### 9.2.3. μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ΅ ν΄λμ¤ μ°Έμ΅° λ€μ‹ 

ν‘μ¤€ μλ°” APIμΈΒ `ServiceLoader`Β λ¥Ό μ‚¬μ©ν•΄ μ„λΉ„μ¤λ¥Ό μ½μ–΄ λ“¤μ΄λ ¤λ©΄ λ‹¤μ μ½”λ“μ²λΌ νΈμ¶ν•΄μ•Ό ν•λ‹¤.

```kotlin
val serviceImpl = ServiceLoader.load(Service::class.java)
```

`::class.java`Β κµ¬λ¬Έμ€ μ½”ν‹€λ¦° ν΄λμ¤μ— λ€μ‘ν•λ”Β `java.lang.Class`Β μ°Έμ΅°λ¥Ό μ–»λ” λ°©λ²•μ„ λ³΄μ—¬μ¤€λ‹¤.

μ„ μ½”λ“λ¥Ό κµ¬μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•΄ λ‹¤μ‹ μ‘μ„±ν•λ©΄ μ•„λμ™€ κ°™λ‹¤.

```kotlin
val serviceImpl = loadService<Service>()

inline fun <reified T> loadService(){
	return ServiceLoader.load(T::class.java)
}
```

μ—¬κΈ°μ„λ” μ½μ–΄ λ“¤μΌ μ„λΉ„μ¤ ν΄λμ¤λ¥ΌΒ `loadService`Β ν•¨μμ νƒ€μ… μΈμλ΅ μ§€μ •ν•λ‹¤. ν΄λμ¤λ¥Ό νƒ€μ… μΈμλ΅ μ§€μ •ν•λ©΄Β `::class.java`Β λΌκ³  μ“°λ” κ²½μ°λ³΄λ‹¤ ν›¨μ”¬ λ” μ½κ³  μ΄ν•΄ν•κΈ° μ‰½λ‹¤.

### 9.2.4. μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°μ μ μ•½

### μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  μ μλ” κ²½μ°

- νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤ν… (**is, !is, as, as?**)
- 10μ¥μ—μ„ μ„¤λ…ν•  μ½”ν‹€λ¦° λ¦¬ν”λ ‰μ… API (::class)
- μ½”ν‹€λ¦° νƒ€μ…μ— λ€μ‘ν•λ”Β `java.lang.Class`Β λ¥Ό μ–»κΈ° (::class.java)
- λ‹¤λ¥Έ ν•¨μλ¥Ό νΈμ¶ν•  λ• νƒ€μ… μΈμλ΅ μ‚¬μ©

### μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•  λ•μ μ μ•½

- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ μΈμ¤ν„΄μ¤ μƒμ„±ν•κΈ°
- νƒ€μ… νλΌλ―Έν„° ν΄λμ¤μ λ™λ° κ°μ²΄ λ©”μ„λ“ νΈμ¶ν•κΈ°
- μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ”κµ¬ν•λ” ν•¨μλ¥Ό νΈμ¶ν•λ©΄μ„ μ‹¤μ²΄ν™”ν•μ§€ μ•μ€ νƒ€μ… νλΌλ―Έν„°λ΅ λ°›μ€ νƒ€μ…μ„ νƒ€μ… μΈμλ΅ λ„κΈ°κΈ°
- ν΄λμ¤, ν”„λ΅νΌν‹°, μΈλΌμΈ ν•¨μκ°€ μ•„λ‹ ν•¨μμ νƒ€μ… νλΌλ―Έν„°λ¥ΌΒ `reified`Β λ΅ μ§€μ •, μ¦‰ μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ΅ μ§€μ •ν•κΈ°
    - **μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μΈλΌμΈ ν•¨μμ—λ§ μ‚¬μ©ν•  μ μμΌλ―€λ΅ μ‹¤μ²΄ν™”ν• νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” ν•¨μλ” μμ‹ μ—κ² μ „λ‹¬λλ” λ¨λ“  λλ‹¤μ™€ ν•¨κ» μΈλΌμ΄λ‹λλ‹¤.**

λλ‹¤ λ‚΄λ¶€μ—μ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ— λ”°λΌμ„λ” λλ‹¤λ¥Ό μΈλΌμ΄λ‹ν•  μ μ—†λ” κ²½μ°κ°€ μƒκΈ°κΈ°λ„ ν•κ³  κ°λ°μλ“¤μ΄ μ„±λ¥ λ¬Έμ λ΅ λλ‹¤λ¥Ό μΈλΌμ΄λ‹ν•κ³  μ‹¶μ§€ μ•μ„ μλ„ μλ‹¤.

μ΄λ° κ²½μ° 8μ¥μ—μ„ μ‚΄ν΄λ³ΈΒ `noinline`Β λ³€κ²½μλ¥Ό ν•¨μ νƒ€μ… νλΌλ―Έν„°μ— λ¶™μ—¬μ„ μΈλΌμ΄λ‹μ„ κΈμ§€ν•  μ μλ‹¤.

## 9.3 λ³€μ„±: μ λ„¤λ¦­κ³Ό ν•μ„ νƒ€μ…

[https://jaeyeong951.medium.com/kotlin-in-n-out-variance-λ³€μ„±-69204cbf27a1](https://jaeyeong951.medium.com/kotlin-in-n-out-variance-%EB%B3%80%EC%84%B1-69204cbf27a1)

> λ³€μ„±μ€Β List<String>Β κ³ΌΒ List<Any>Β μ™€ κ°™μ΄ κΈ°μ € νƒ€μ…μ΄ κ°™κ³  νƒ€μ… μΈμκ°€ λ‹¤λ¥Έ μ—¬λ¬ νƒ€μ…μ΄ μ„λ΅ μ–΄λ–¤ κ΄€κ³„κ°€ μλ”μ§€ μ„¤λ…ν•λ” κ°λ…μ΄λ‹¤.
> 
- λ³€μ„±μ„ μ ν™μ©ν•λ©΄ μ‚¬μ©μ— λ¶νΈν•μ§€ μ•μΌλ©΄μ„ νƒ€μ… μ•μ „μ„±μ„ λ³΄μ¥ν•λ” APIλ¥Ό λ§λ“¤ μ μλ‹¤.

### 9.3.1. λ³€μ„±μ΄ μλ” μ΄μ : μΈμλ¥Ό ν•¨μμ— λ„κΈ°κΈ°

`List<Any>`Β νƒ€μ…μ νλΌλ―Έν„°λ¥Ό λ°›λ” ν•¨μμ—Β `List<String>`Β μ„ λ„κΈ°λ©΄ μ•μ „ν• κΉ?

- `String`Β ν΄λμ¤λ”Β `Any`Β λ¥Ό ν™•μ¥ν•λ―€λ΅Β `Any`Β νƒ€μ… κ°’μ„ νλΌλ―Έν„°λ΅ λ°›λ” ν•¨μμ—Β `String`Β κ°’μ„ λ„κ²¨λ„Β *μ λ€λ΅*Β μ•μ „ν•λ‹¤.

**ν•μ§€λ§Β `Any`Β μ™€Β `String`Β μ΄Β `List`Β μΈν„°νμ΄μ¤μ νƒ€μ… μΈμλ΅ λ“¤μ–΄κ°€λ” κ²½μ° κ·Έλ ‡κ² μμ‹  μκ² μ•μ „μ„±μ„ λ§ν•  μ μ—†λ‹¤.**

```kotlin
fun addAnswer(list : MutableList<Any>){
	list.add(42)
}

var stringList = MutableList<String>;
addAnswer(stringList)
```

**ν•¨μκ°€ μ½κΈ° μ „μ© λ¦¬μ¤νΈλ¥Ό λ°›λ”λ‹¤λ©΄ λ” κµ¬μ²΄μ μΈ νƒ€μ…μ μ›μ†λ¥Ό κ°–λ” λ¦¬μ¤νΈλ¥Ό κ·Έ ν•¨μμ— λ„κΈΈ μ μλ‹¤.** 

**ν•μ§€λ§ λ¦¬μ¤νΈκ°€ λ³€κ²½ κ°€λ¥ν•λ‹¤λ©΄ κ·Έλ΄ μ μ—†λ‹¤.**

### 2. ν΄λμ¤, νƒ€μ…, ν•μ„ νƒ€μ…

- λ³€μμ νƒ€μ…μ€ κ·Έ λ³€μμ— λ‹΄μ„ μ μλ” κ°’μ μ§‘ν•©μ„ μ§€μ •ν•λ‹¤.
- μ½”ν‹€λ¦° ν΄λμ¤λ” μ μ–΄λ„ λ‘ μ΄μƒμ νƒ€μ…μ„ κµ¬μ„±ν•  μ μλ‹¤
    - String, String?
    - *ν•λ‚μ String ν΄λμ¤μ΄μ§€λ§, String λ³€μμ νƒ€μ…μ€ String, String?μ΄ λ  μ μλ‹¤.*

- μ§€κΈκΉμ§€ μ΄ μ±…μ—μ„λ” λ³΄ν†µ νƒ€μ…κ³Ό ν΄λμ¤λΌλ” μ©μ–΄λ¥Ό νΌμ©ν•΄μ™”λ”λ°, μ‹¤μ λ΅ κ·Έ λ‘μ€ κ°™μ§€ μ•λ‹¤.
- μ λ„¤λ¦­ ν΄λμ¤κ°€ μ•„λ‹ ν΄λμ¤μ—μ„λ” ν΄λμ¤ μ΄λ¦„μ„ λ°”λ΅ νƒ€μ…μΌλ΅ μ“Έ μ μλ‹¤.
- μ λ„¤λ¦­ ν΄λμ¤μ—μ„λ” μƒν™©μ΄ λ” λ³µμ΅ν•λ‹¤. μ¬λ°”λ¥Έ νƒ€μ…μ„ μ–»μΌλ ¤λ©΄ μ λ„¤λ¦­ νƒ€μ…μ νƒ€μ… νλΌλ―Έν„°λ¥Ό κµ¬μ²΄μ μΈ νƒ€μ… μΈμλ΅ λ°”κΏ”μ¤μ•Ό ν•λ‹¤.
    - Listλ” νƒ€μ…μ΄ μ•„λ‹λ‹¤ (ν΄λμ¤λ‹¤)
    - List<Int> List<String?> List<List<String>>μ€ λ¨λ‘ μ λ€λ΅ λ νƒ€μ…μ΄λ‹¤.
    - κ°κ°μ μ λ„¤λ¦­ ν΄λμ¤λ” λ¬΄μν λ§μ€ νƒ€μ…μ„ λ§λ“¤μ–΄λ‚Ό μ μλ‹¤.

![image.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e866adc9-fcc0-4945-857d-9c53f81041f9/2f5daaaa-1fab-4d19-b1c5-e9267b9abdd7/image.png)

ν•μ„ νƒ€μ…

<aside>
π’΅

**β€μ–΄λ–¤ νƒ€μ… Aμ κ°’μ΄ ν•„μ”ν• λ¨λ“  μ„μΉμ— μ–΄λ–¤ λ‹¤λ¥Έ νƒ€μ… Bμ κ°’μ„ λ„£μ–΄λ„ μ•„λ¬΄λ° λ¬Έμ κ°€ μ—†λ” κ²½μ°β€™**Β νƒ€μ… Bλ” νƒ€μ… Aμ ν•μ„ νƒ€μ…μ…λ‹λ‹¤.

</aside>

μλ¥Ό λ“¤μ–΄Β `Int`(νƒ€μ…B)Β λ”Β `Number`Β (νƒ€μ…A) μ ν•μ„ νƒ€μ…μ΄μ§€λ§Β `String`Β μ ν•μ„ νƒ€μ…μ€ μ•„λ‹λ‹¤.

> μƒμ„ νƒ€μ…μ€ ν•μ„ νƒ€μ…μ λ°λ€λ΅, A νƒ€μ…μ΄ B νƒ€μ…μ ν•μ„ νƒ€μ…μ΄λΌλ©΄ Bλ” Aμ μƒμ„ νƒ€μ…μ΄λ‹¤.
> 

**λ³΄ν†µ ν•μ„ νƒ€μ…μ€ ν•μ„ ν΄λμ¤μ™€ κ°™λ‹¤.**

μλ¥Ό λ“¤μ–΄Β `Int`Β ν΄λμ¤λ” Number ν΄λμ¤μ ν•μ„ ν΄λμ¤μ΄λ―€λ΅ Int λ” Number μ ν•μ„ νƒ€μ…μ…λ‹λ‹¤.

ex :  λ‘ νƒ€μ… λ¨λ‘ κ°™μ€ ν΄λμ¤μ΄μ§€λ§ λ„μ΄ λ  μ μ—†λ” νƒ€μ… Aλ” λ„μ΄ λ  μ μλ” νƒ€μ… A?μ ν•μ„ νƒ€μ…μ΄λ‹¤. 

<aside>
π’΅

**`List<Any>`Β νƒ€μ…μ„ μΈμλ΅ λ°›λ” ν•¨μμ—Β `List<String>`Β νƒ€μ…μ„ μ „λ‹¬ν•΄λ„ κ΄μ°®μ„κΉμ”?**Β 

λ„¤!Β `List<Any>`Β μ μλ¦¬μ—Β `List<String>`Β μ„ λ„£μ–΄λ„ μ•„λ¬΄λ° λ¬Έμ κ°€ μ—†μµλ‹λ‹¤. λ¦¬μ¤νΈμ— μ¶”κ°€λ‚ λ³€κ²½μ΄ μΌμ–΄λ‚μ§€ μ•κΈ° λ•λ¬Έμ— νƒ€μ… λ¶μΌμΉκ°€ μƒκΈΈ μ—¬μ§€κ°€ μ—†κΈ° λ•λ¬Έμ΄μ£ . κ·ΈλΌΒ `List<String>`Β νƒ€μ…μ€Β `List<Any>`Β νƒ€μ…μ ν•μ„ νƒ€μ…μ΄λΌκ³  ν•  μ μκ² λ„¤μ”.

</aside>

<aside>
π’΅

κ·ΈλΌΒ `MutableList<String>`Β μ€Β `MutableList<Any>`Β μ ν•μ„ νƒ€μ…μΌκΉμ”? 
μ•„μ‰½κ²λ„ μ•„λ‹™λ‹λ‹¤. λ¦¬μ¤νΈμ— λ³€κ²½μ μ—¬μ§€κ°€ μκΈ° λ•λ¬Έμ…λ‹λ‹¤. κ·Έλμ„ μ»΄νμΌλ¬λ” μ•„λμ™€ κ°™μ€ νΈμ¶μ„ κΈμ§€ν•©λ‹λ‹¤.

</aside>

`MutableList`Β μ™€λ” λ‹¤λ¥΄κ²Β `List`Β λ” νƒ€μ… μΈμμ μƒκ΄€ κ΄€κ³„κ°€ μ μ§€λμ—μ£ .

 Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ•Β `List<A>`Β κ°€Β `List<B>`Β μ ν•μ„ νƒ€μ…μ΄ λμ—μµλ‹λ‹¤. 

μ΄κ°™μ€ μ λ„¤λ¦­ ν΄λμ¤ νƒ€μ…μ„ κ³µλ³€(covariance) νƒ€μ…μ΄λΌκ³  λ¶€λ¦…λ‹λ‹¤.

### 3. κ³µλ³€μ„±: ν•μ„ νƒ€μ… κ΄€κ³„λ¥Ό μ μ§€

> Aκ°€ Bμ ν•μ„ νƒ€μ…μΌ λ•Β Producer<A>Β κ°€Β Producer<B>Β μ ν•μ„νƒ€μ…μ΄λ©΄Β Producerλ” κ³µλ³€μ μ΄λ‹¤. **μ΄λ¥Ό ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ μ§€λλ‹¤κ³  λ§ν•λ‹¤.**
> 

μ½”ν‹€λ¦°μ—μ„ μ λ„¤λ¦­ ν΄λμ¤κ°€ νƒ€μ… νλΌλ―Έν„°μ— λ€ν•΄ κ³µλ³€μ μ„μ„ ν‘μ‹ν•λ ¤λ©΄ νƒ€μ… νλΌλ―Έν„° μ΄λ¦„ μ•μ—Β `out`Β μ„ λ„£μ–΄μ•Ό ν•λ‹¤.

```kotlin
interface Producer<out T> {
    fun produce(): T
}
```

ν΄λμ¤μ νƒ€μ… νλΌλ―Έν„°λ¥Ό κ³µλ³€μ μΌλ΅ λ§λ“¤λ©΄, 

ν•¨μ μ •μμ— μ‚¬μ©ν• νλΌλ―Έν„° νƒ€μ…κ³Ό νƒ€μ… μΈμμ νƒ€μ…μ΄ μ •ν™•ν μΌμΉν•μ§€ μ•λ”λΌλ„ κ·Έ ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό ν•¨μ μΈμλ‚ λ°ν™ κ°’μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

- νƒ€μ… νλΌλ―Έν„°λ¥Ό κ³µλ³€μ μΌλ΅ μ§€μ •ν•λ©΄ ν΄λμ¤ λ‚΄λ¶€μ—μ„ κ·Έ νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” λ°©λ²•μ„ μ ν•ν•λ‹¤.
- μ΄λ” ν΄λμ¤κ°€Β `T`Β νƒ€μ…μ κ°’μ„ μƒμ‚°ν•  μλ” μμ§€λ§Β `T`Β νƒ€μ…μ κ°’μ„ μ†λΉ„ν•  μλ” μ—†μ–΄μ§„λ‹¤.

<aside>
π’΅

`T`Β λΌλ” νƒ€μ… νλΌλ―Έν„°λ¥Ό μ„ μ–Έν•κ³ Β `T`Β λ¥Ό μ‚¬μ©ν•λ” ν•¨μκ°€ λ©¤λ²„λ΅ μλ” ν΄λμ¤λ¥Ό μƒκ°ν•΄λ³΄μ.

- `T`Β κ°€ ν•¨μμ λ°ν™ νƒ€μ…μ— μ“°μΈλ‹¤λ©΄Β `T`Β λ”Β *μ•„μ›ƒ*Β μ„μΉμ— μλ‹¤.
    
    μ΄ ν•¨μλ”Β `T`Β νƒ€μ…μ κ°’μ„Β *μƒμ‚°*ν•λ‹¤.
    
- `T`Β κ°€ ν•¨μμ νλΌλ―Έν„° νƒ€μ…μ— μ“°μΈλ‹¤λ©΄Β `T`Β λ”Β *μΈ*Β μ„μΉμ— μλ‹¤.
    
    μ΄ ν•¨μλ”Β `T`Β νƒ€μ…μ κ°’μ„Β *μ†λΉ„*ν•λ‹¤.
    
</aside>

μ¦‰, νƒ€μ… νλΌλ―Έν„°Β `T`Β μ— λ¶™μ€Β `out`Β ν‚¤μ›λ“λ” λ‹¤μ λ‘ κ°€μ§€λ¥Ό μλ―Έν•λ‹¤.

- κ³µλ³€μ„±: ν•μ„ νƒ€μ… κ΄€κ³„κ°€ μ μ§€λλ‹¤.
- μ‚¬μ© μ ν•:Β `T`Β λ¥Ό μ•„μ›ƒ μ„μΉμ—μ„λ§ μ‚¬μ©ν•  μ μλ‹¤.

### 4. λ°κ³µλ³€μ„±: λ’¤μ§‘ν ν•μ„ νƒ€μ… κ΄€κ³„

λ°κ³µλ³€ ν΄λμ¤μ νƒ€μ… κ΄€κ³„λ” κ³µλ³€ ν΄λμ¤μ κ²½μ°μ™€ λ°λ€μ…λ‹λ‹¤.Β 

**νƒ€μ… Aκ°€ νƒ€μ… Bμ ν•μ„ νƒ€μ…μΌ λ•Β `Base<A>`κ°€Β `Base<B>`μ μƒμ„ νƒ€μ…μ΄ λλ” κ²½μ°**λ¥Ό λ§ν•μ£ .

λ‹¤μ ν‘λ” μ—¬λ¬ κ°€μ§€ μ„ νƒν•  μ μλ” λ³€μ„±μ— λ€ν•΄ μ”μ•½ν• κ²ƒμ΄λ‹¤.

!https://velog.velcdn.com/images/akimcse/post/7a78a275-efd4-4031-932c-266e8bd18a89/image.jpeg

### 5. μ‚¬μ© μ§€μ  λ³€μ„±: νƒ€μ…μ΄ μ–ΈκΈ‰λλ” μ§€μ μ—μ„ λ³€μ„± μ§€μ •

> ν΄λμ¤λ¥Ό μ„ μ–Έν•λ©΄μ„ λ³€μ„±μ„ μ§€μ •ν•λ©΄ κ·Έ ν΄λμ¤λ¥Ό μ‚¬μ©ν•λ” λ¨λ“  μ¥μ†μ—μ„ λ³€μ„± μ§€μ •μκ°€ μν–¥μ„ λΌμΉλ―€λ΅ νΈλ¦¬ν•λ‹¤. 
μ΄λ° λ°©μ‹μ„Β μ„ μ–Έ μ§€μ  λ³€μ„±μ΄λΌ λ¶€λ¥Έλ‹¤.
> 

> **μλ°”μ—μ„λ” νƒ€μ… νλΌλ―Έν„°κ°€ μλ” νƒ€μ…μ„ μ‚¬μ©ν•  λ•λ§λ‹¤,** 
ν•΄λ‹Ή νƒ€μ… νλΌλ―Έν„°λ¥Ό ν•μ„ νƒ€μ…μ΄λ‚ μƒμ„ νƒ€μ… μ¤‘ μ–΄λ–¤ νƒ€μ…μΌλ΅ λ€μΉν•  μ μλ”μ§€ λ…μ‹ν•΄μ•Ό ν•λ‹¤. μ΄λ° λ°©μ‹μ„Β μ‚¬μ© μ§€μ  λ³€μ„±μ΄λΌ λ¶€λ¥Έλ‹¤.
> 

- μ½”ν‹€λ¦°λ„ μ‚¬μ© μ§€μ  λ³€μ„±μ„ μ§€μ›ν•λ‹¤. (μ΄λ” μλ°”μ ν•μ • μ™€μΌλ“ μΉ΄λ“μ™€ λ‘κ°™λ‹¤.)
- λ”°λΌμ„ ν΄λμ¤ μ•μ—μ„ μ–΄λ–¤ νƒ€μ… νλΌλ―Έν„°κ°€ κ³µλ³€μ μ΄κ±°λ‚ λ°κ³µλ³€μ μΈμ§€ μ„ μ–Έν•  μ μ—†λ” κ²½μ°μ—λ„, νΉμ • νƒ€μ… νλΌλ―Έν„°κ°€ λ‚νƒ€λ‚λ” μ§€μ μ—μ„ λ³€μ„±μ„ μ •ν•  μ μλ‹¤.

```kotlin
fun <T> copyData(source: MutableList<out T>,
                 destination: MutableList<T>) {
    for (item in source) {
        destination.add(item)
} }
You can add the β€outβ€ keyword to the type usage: no methods with T in the β€inβ€ position are used.
```

**νƒ€μ… μ„ μ–Έμ—μ„ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ” μ„μΉλΌλ©΄ μ–΄λ””μ—λ‚ λ³€μ„± λ³€κ²½μλ¥Ό λ¶™μΌ μ μλ‹¤.**

### 6. μ¤νƒ€ ν”„λ΅μ μ…: νƒ€μ… μΈμ λ€μ‹  * μ‚¬μ©

9μ¥ μ•λ¶€λ¶„μ—μ„ νƒ€μ… κ²€μ‚¬μ™€ μΊμ¤νΈμ— λ€ν•΄ μ„¤λ…ν•  λ• μ λ„¤λ¦­ νƒ€μ… μΈμ μ •λ³΄κ°€ μ—†μμ„ ν‘ν„ν•κΈ° μ„ν•΄Β *μ¤νƒ€ ν”„λ΅μ μ…*Β μ„ μ‚¬μ©ν•λ‹¤κ³  λ§ν–λ‹¤.

`MutableList<*>`λ”Β `MutableList<Any?>`μ™€ κ°™μ§€ μ•λ‹¤.

`MutableList<Any?>`λ” λ¨λ“  νƒ€μ…μ μ›μ†λ¥Ό λ‹΄μ„ μ μλ‹¤λ” μ‚¬μ‹¤μ„ μ• μ μλ” λ¦¬μ¤νΈμΈ λ°λ©΄,Β 
`MutableList<*>`λ” μ–΄λ–¤ μ •ν•΄μ§„ κµ¬μ²΄μ μΈ νƒ€μ…μ μ›μ†λ§μ„ λ‹΄λ” λ¦¬μ¤νΈμ§€λ§ **κ·Έ μ›μ†μ νƒ€μ…μ„ μ •ν™•ν λ¨λ¥Έλ‹¤λ” μ‚¬μ‹¤μ„ ν‘ν„ν•λ‹¤.**

νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‹κ·Έλ‹μ²μ—μ„ μ „ν€ μ–ΈκΈ‰ν•μ§€ μ•κ±°λ‚ λ°μ΄ν„°λ¥Ό μ½κΈ°λ” ν•μ§€λ§, 
κ·Έ νƒ€μ…μ—λ” κ΄€μ‹¬μ΄ μ—†λ” κ²½μ°μ™€ κ°™μ΄ νƒ€μ… μΈμ μ •λ³΄κ°€ μ¤‘μ”ν•μ§€ μ•μ„ λ•λ„ μ¤νƒ€ ν”„λ΅μ μ… κµ¬λ¬Έμ„ μ‚¬μ©ν•  μ μλ‹¤.

```kotlin
fun printFirst(list: List<*>) {  // λ¨λ“  λ¦¬μ¤νΈλ¥Ό μΈμλ΅ λ°›μ„ μ μλ‹¤.
    if (list.isNotEmpty()) { // isNotEmpty()μ—μ„λ” μ λ„¤λ¦­ νƒ€μ… νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.
        println(list.first()) // first()λ” μ΄μ  Any?λ¥Ό λ°ν™ν•μ§€λ§ μ—¬κΈ°μ„λ” κ·Έ νƒ€μ…λ§μΌλ΅ μ¶©λ¶„ν•λ‹¤.
    }
}
>>> printFirst(listOf("Svetlana", "Dmitry"))
Svetlana
```